<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml">


	<ui:define name="pageTitle">#{out['profile.title']}</ui:define>

	<ui:define name="head-extra">

	</ui:define>

	<ui:define name="content">

		<div class="panel panel-default">

			<div class="panel-heading">Profile</div>
			<div class="panel-body">
			
			<h:form id="form2">

					<p:messages></p:messages>
					


					<div class="form-group row">
						<p:tab id="personal2" title="#{out['registration.personal.title']}">
						<p:panel header="#{out['registration.personal.header']}">
							<h:panelGrid columns="2" cellpadding="5">
					<h:outputLabel for="pwd1" value="#{out.password}: " />
								<p:password id="pwd1"
									value="#{profileController.userVo.password}" match="pwd2"
									label="Password 1" required="true">

									<f:validateLength maximum="254" minimum="6" />

								</p:password>

								<h:outputLabel for="pwd2" value="#{out.password2}: " />
								<p:password id="pwd2"
									value="#{profileController.password2}" label="Password 2"
									required="true">
									<f:validateLength maximum="254" minimum="6" />
								</p:password>
								</h:panelGrid>
								<f:facet name="footer">
								<p:commandButton id="btnLoginId2" value="#{out['refresh']}"
									action="#{profileController.save()}"
									styleClass="loginPanelBtn" icon="ui-icon-check" />

							</f:facet>
								</p:panel>
								</p:tab>
					
					</div>
					</h:form>
				<h:form id="form">

					<p:messages></p:messages>
					


					<div class="form-group row">

						
						<p:tab id="personal" title="#{out['registration.personal.title']}">
						<p:panel header="#{out['registration.personal.header']}">
							<h:panelGrid columns="2" cellpadding="5">
							<h:outputLabel for="userName" value="Username"
							 />

						
							<h:inputText id="userName" readonly="true"
								styleClass="form-control" label="userName"
								value="#{profileController.userVo.username}" />
						
								<h:outputLabel value="#{out.firstname}"></h:outputLabel>
								<p:inputText id="firstname" required="true"
									value="#{profileController.userVo.firstname}"
									requiredMessage="#{out.req_firstname}">
									<f:validateLength maximum="254" />
								</p:inputText>

								<h:outputLabel value="#{out.lastname}"></h:outputLabel>
								<p:inputText id="lastname" required="true"
									value="#{profileController.userVo.lastname}"
									requiredMessage="#{out.req_lastname}">
									<f:validateLength maximum="254" />
								</p:inputText>
								
								<h:outputLabel value="#{out.email}"></h:outputLabel>
								<p:inputText id="email" required="true"
									value="#{profileController.userVo.email}"
									requiredMessage="#{out.req_email}">
									<f:validateRegex
										pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
								</p:inputText>

								<h:outputLabel value="#{out.phone}"></h:outputLabel>
								<p:inputMask id="phone" required="true" mask="999-999-9999"
									value="#{profileController.userVo.phone}"
									requiredMessage="#{out.req_phone}" />

							</h:panelGrid>

							<f:facet name="footer">
								<p:commandButton id="btnLoginId" value="#{out['refresh']}"
									action="#{profileController.save()}"
									styleClass="loginPanelBtn" icon="ui-icon-check" />

							</f:facet>
						</p:panel>
					</p:tab>
						

					</div>
					

				</h:form>

				<div class="form-group row">

					<h:form enctype="multipart/form-data">


						<p:fileUpload value="#{profileController.file}" mode="simple"
							skinSimple="true" />

						<p:commandButton value="Submit" ajax="false"
							actionListener="#{profileController.upload}" />
							
							<p:growl id="msgs" showDetail="true" />
					<p:dataTable id="userTable" widgetVar="userTable" var="currentUser"
						paginatorPosition="bottom" styleClass="table table-striped"
						value="#{usersView.lazyUserDataModel}" lazy="true"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15,100" paginator="true" rows="5"
						emptyMessage="#{out.empty_message}">
						<p:column styleClass="hidden-lg">
							<p:rowToggler />
						</p:column>
       							<p:column style="width:120px;">

							<p:graphicImage value="#{profileController.userVo.image}"
								styleClass="img-thumbnail" style="height:100px;">
								<f:param name="userId" value="#{profileController.userVo.id}" />
							</p:graphicImage>

						</p:column>
    </p:dataTable>
					</h:form>

				</div>

			</div>

			
		</div>

	</ui:define>
</ui:composition>